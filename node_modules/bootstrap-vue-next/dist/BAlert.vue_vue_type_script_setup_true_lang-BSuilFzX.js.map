{"version":3,"file":"BAlert.vue_vue_type_script_setup_true_lang-BSuilFzX.js","sources":["../src/components/BAlert/BAlert.vue"],"sourcesContent":["<template>\n  <Transition\n    v-if=\"renderRef || contentShowing\"\n    v-bind=\"transitionProps\"\n    :appear=\"!!modelValue || props.visible\"\n  >\n    <div\n      v-show=\"isAlertVisible\"\n      :id=\"props.id\"\n      ref=\"_element\"\n      class=\"alert\"\n      :class=\"[props.alertClass, computedClasses]\"\n      tabindex=\"0\"\n      :role=\"!isAlertVisible ? undefined : props.isStatus ? 'status' : 'alert'\"\n      :aria-live=\"!isAlertVisible ? undefined : props.isStatus ? 'polite' : 'assertive'\"\n      :aria-atomic=\"!isAlertVisible ? undefined : true\"\n    >\n      <component\n        :is=\"props.headerTag\"\n        v-if=\"contentShowing && (slots.title || props.title)\"\n        class=\"alert-heading d-flex gap-2\"\n        :class=\"props.headerClass\"\n      >\n        <slot name=\"title\" v-bind=\"sharedSlots\">\n          <span>\n            {{ props.title }}\n          </span>\n        </slot>\n        <template v-if=\"props.dismissible\">\n          <BButton\n            v-if=\"slots.close || props.closeContent\"\n            :class=\"[props.closeClass]\"\n            class=\"ms-auto ps-1 btn-close-custom\"\n            :variant=\"props.closeVariant\"\n            @click.stop.prevent=\"hide('close')\"\n          >\n            <slot name=\"close\" v-bind=\"sharedSlots\">\n              {{ props.closeContent }}\n            </slot>\n          </BButton>\n          <BCloseButton\n            v-else\n            :aria-label=\"props.closeLabel\"\n            :class=\"[props.closeClass]\"\n            @click.stop.prevent=\"hide('close')\"\n          />\n        </template>\n      </component>\n      <template v-if=\"contentShowing && (slots.default || props.body)\">\n        <div class=\"d-flex gap-2\">\n          <component\n            :is=\"computedTag\"\n            class=\"alert-body\"\n            :class=\"props.bodyClass\"\n            v-bind=\"computedLinkProps\"\n            @click=\"computedLink && props.dismissible ? hide() : () => {}\"\n          >\n            <slot v-bind=\"sharedSlots\">\n              {{ props.body }}\n            </slot>\n          </component>\n\n          <template v-if=\"props.dismissible && !(slots.title || props.title)\">\n            <BButton\n              v-if=\"slots.close || props.closeContent\"\n              :class=\"[props.closeClass]\"\n              class=\"ms-auto btn-close-custom\"\n              :variant=\"props.closeVariant\"\n              @click.stop.prevent=\"hide('close')\"\n            >\n              <slot name=\"close\" v-bind=\"sharedSlots\">\n                {{ props.closeContent }}\n              </slot>\n            </BButton>\n            <BCloseButton\n              v-else\n              :aria-label=\"props.closeLabel\"\n              :class=\"[props.closeClass]\"\n              @click.stop.prevent=\"hide('close')\"\n            />\n          </template>\n        </div>\n      </template>\n      <BProgress\n        v-if=\"typeof modelValue === 'number' && props.progressProps !== undefined\"\n        :animated=\"props.progressProps.animated\"\n        :precision=\"props.progressProps.precision\"\n        :show-progress=\"props.progressProps.showProgress\"\n        :show-value=\"props.progressProps.showValue\"\n        :striped=\"props.progressProps.striped\"\n        :variant=\"props.progressProps.variant\"\n        :max=\"modelValue\"\n        :value=\"remainingMs\"\n        height=\"4px\"\n      />\n    </div>\n  </Transition>\n</template>\n\n<script setup lang=\"ts\">\nimport {computed, type EmitFn, useTemplateRef, watch, watchEffect} from 'vue'\nimport {useBLinkHelper} from '../../composables/useBLinkHelper'\nimport type {BAlertProps} from '../../types/ComponentProps'\nimport type {BAlertEmits} from '../../types/ComponentEmits'\nimport type {BAlertSlots, ShowHideSlotsData} from '../../types/ComponentSlots'\nimport BCloseButton from '../BButton/BCloseButton.vue'\nimport BLink from '../BLink/BLink.vue'\nimport BProgress from '../BProgress/BProgress.vue'\nimport {useCountdown} from '../../composables/useCountdown'\nimport {useDefaults} from '../../composables/useDefaults'\nimport {useCountdownHover} from '../../composables/useCountdownHover'\nimport {useId} from '../../composables/useId'\nimport {useShowHide} from '../../composables/useShowHide'\n\nconst _props = withDefaults(defineProps<Omit<BAlertProps, 'modelValue'>>(), {\n  bgVariant: null,\n  body: undefined,\n  bodyClass: undefined,\n  closeClass: undefined,\n  closeContent: undefined,\n  closeLabel: 'Close',\n  closeVariant: 'secondary',\n  dismissible: false,\n  headerClass: undefined,\n  headerTag: 'div',\n  id: undefined,\n  initialAnimation: false,\n  interval: 'requestAnimationFrame',\n  isStatus: false,\n  lazy: false,\n  noFade: false,\n  noHoverPause: false,\n  noResumeOnHoverLeave: false,\n  progressProps: undefined,\n  unmountLazy: false,\n  showOnPause: true,\n  show: false,\n  solid: false,\n  textVariant: null,\n  title: undefined,\n  alertClass: undefined,\n  transProps: undefined,\n  visible: false,\n  // Link props\n  // All others use defaults\n  noRel: undefined,\n  active: undefined,\n  activeClass: undefined,\n  disabled: undefined,\n  exactActiveClass: undefined,\n  href: undefined,\n  icon: undefined,\n  opacity: undefined,\n  opacityHover: undefined,\n  stretched: false,\n  rel: undefined,\n  replace: undefined,\n  routerComponentName: undefined,\n  target: undefined,\n  to: undefined,\n  underlineOffset: undefined,\n  underlineOffsetHover: undefined,\n  underlineOpacity: undefined,\n  underlineOpacityHover: undefined,\n  underlineVariant: undefined,\n  // End link props\n  variant: 'info',\n})\nconst props = useDefaults(_props, 'BAlert')\nconst emit = defineEmits<BAlertEmits>()\nconst slots = defineSlots<BAlertSlots>()\n\nconst element = useTemplateRef('_element')\n\nconst modelValue = defineModel<Exclude<BAlertProps['modelValue'], undefined>>({default: false})\nconst {computedLink, computedLinkProps} = useBLinkHelper(props)\n\nconst computedId = useId(() => props.id, 'alert')\n\nconst {\n  showRef,\n  renderRef,\n  hide,\n  toggle,\n  show,\n  buildTriggerableEvent,\n  computedNoAnimation,\n  isVisible,\n  transitionProps,\n  contentShowing,\n} = useShowHide(modelValue, props, emit as EmitFn, element, computedId)\n\n// TODO solid is never used\nconst countdownLength = computed(() =>\n  typeof modelValue.value === 'boolean' ? 0 : modelValue.value\n)\n\nconst {\n  isActive,\n  pause,\n  restart,\n  resume,\n  stop,\n  isPaused,\n  value: remainingMs,\n} = useCountdown(countdownLength, props.interval, {\n  immediate: typeof modelValue.value === 'number' && !!modelValue.value,\n})\nuseCountdownHover(\n  element,\n  {\n    noHoverPause: () => props.noHoverPause || typeof modelValue.value !== 'number',\n    noResumeOnHoverLeave: () => props.noResumeOnHoverLeave || typeof modelValue.value !== 'number',\n    modelValueIgnoresHover: () => typeof modelValue.value === 'boolean',\n  },\n  {pause, resume}\n)\n\nwatchEffect(() => {\n  emit('close-countdown', remainingMs.value)\n})\n\nconst computedTag = computed(() => (computedLink.value ? BLink : 'div'))\n\nconst isAlertVisible = computed(\n  () => showRef.value || isActive.value || (props.showOnPause && isPaused.value)\n)\n\n// const colorClasses = useColorVariantClasses(props)\nconst computedClasses = computed(() => [\n  // colorClasses.value,\n  {\n    [`alert-${props.variant}`]: props.variant !== null,\n    'alert-dismissible': props.dismissible && !(slots.close || props.closeContent),\n    'show': isVisible.value,\n    'fade': !computedNoAnimation.value,\n  },\n])\n\nwatch(modelValue, (newValue) => {\n  if (typeof newValue === 'number') {\n    const event = buildTriggerableEvent('show', {cancelable: true, trigger: 'model'})\n    emit('show', event)\n    if (event.defaultPrevented) {\n      emit('show-prevented', buildTriggerableEvent('show-prevented'))\n    } else {\n      restart()\n    }\n  }\n})\n\n// isActive in the composable will cause the alert to hide when the countdown is done\nwatch(isActive, (newValue) => {\n  if (newValue === false && isPaused.value === false) {\n    hide()\n    modelValue.value = 0\n    stop()\n  }\n})\nconst sharedSlots = computed<ShowHideSlotsData>(() => ({\n  toggle,\n  show,\n  hide,\n  id: computedId.value,\n  visible: showRef.value,\n  active: isActive.value,\n}))\n\ndefineExpose({\n  show,\n  hide,\n  toggle,\n  pause,\n  restart,\n  resume,\n  stop,\n})\n</script>\n"],"names":["_props","__props","props","useDefaults","emit","__emit","slots","_useSlots","element","useTemplateRef","modelValue","_useModel","computedLink","computedLinkProps","useBLinkHelper","computedId","useId","id","showRef","renderRef","hide","toggle","show","buildTriggerableEvent","computedNoAnimation","isVisible","transitionProps","contentShowing","useShowHide","countdownLength","computed","value","isActive","pause","restart","resume","stop","isPaused","remainingMs","useCountdown","interval","immediate","useCountdownHover","noHoverPause","noResumeOnHoverLeave","modelValueIgnoresHover","watchEffect","computedTag","BLink","isAlertVisible","showOnPause","computedClasses","variant","dismissible","close","closeContent","fade","watch","newValue","event","cancelable","trigger","defaultPrevented","sharedSlots","visible","active","__expose","_unref","_createBlock","_Transition","_mergeProps","key","appear","_createElementVNode","ref","class","alertClass","tabindex","role","isStatus","title","_resolveDynamicComponent","headerTag","_normalizeClass","headerClass","_renderSlot","_ctx","$slots","_normalizeProps","_guardReactiveProps","_toDisplayString","_createElementBlock","_Fragment","_component_BButton","closeClass","closeVariant","onClick","_createTextVNode","BCloseButton","closeLabel","default","body","_openBlock","_hoisted_2","bodyClass","progressProps","BProgress","animated","precision","showProgress","showValue","striped","max","height"],"mappings":"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"}