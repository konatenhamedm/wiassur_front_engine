{"version":3,"file":"classes-Jfk71KSq.js","sources":["../src/utils/classes.ts"],"sourcesContent":["/**\n * Items that are omitted from the BvEventInit constructor arg\n */\nexport type BvEventConstructorOmittables = 'eventType' | 'defaultPrevented'\n\nexport class BvEvent {\n  readonly cancelable: boolean = true\n  readonly componentId: string | null = null\n  private _defaultPrevented = false\n  readonly eventType: string = ''\n  readonly nativeEvent: string | null = null\n  private _preventDefault: () => void\n  readonly relatedTarget: EventTarget | null = null\n  readonly target: EventTarget | null = null\n  // Readable by everyone,\n  // But only overwritten by inherrited constructors\n  public get defaultPrevented() {\n    return this._defaultPrevented\n  }\n  protected set defaultPrevented(prop) {\n    this._defaultPrevented = prop\n  }\n  // I think this is right\n  // We want to be able to have it callable to everyone,\n  // But only overwritten by inherrited constructors\n  public get preventDefault() {\n    return this._preventDefault\n  }\n  // This may not be correct, because it doesn't get correct type inferences in children\n  // Ex overwrite this.preventDefault = () => true is valid. Could be a TS issue\n  protected set preventDefault(setter: () => void) {\n    this._preventDefault = setter\n  }\n\n  constructor(\n    eventType: string,\n    eventInit: Partial<Omit<BvEvent, BvEventConstructorOmittables>> = {}\n  ) {\n    if (!eventType) {\n      throw new TypeError(\n        `Failed to construct '${this.constructor.name}'. 1 argument required, ${arguments.length} given.`\n      )\n    }\n\n    // Merge defaults first, the eventInit, and the type last\n    // so, it can't be overwritten\n    Object.assign(this, BvEvent.Defaults, eventInit, {eventType})\n\n    this._preventDefault = function _preventDefault() {\n      if (this.cancelable) {\n        this.defaultPrevented = true\n      }\n    }\n  }\n\n  static get Defaults() {\n    return {\n      cancelable: true,\n      componentId: null,\n      eventType: '',\n      nativeEvent: null,\n      relatedTarget: null,\n      target: null,\n    }\n  }\n}\n\nexport class BvTriggerableEvent extends BvEvent {\n  readonly trigger: string | null = null\n  ok: boolean | null | undefined = undefined\n\n  constructor(\n    eventType: string,\n    eventInit: Partial<Omit<BvTriggerableEvent, BvEventConstructorOmittables>> = {}\n  ) {\n    super(eventType, eventInit)\n\n    // Merge defaults first, the eventInit, and the type last\n    // so, it can't be overwritten\n    Object.assign(this, BvEvent.Defaults, eventInit, {eventType})\n  }\n\n  static get Defaults() {\n    return {\n      ...super.Defaults,\n      trigger: null,\n      ok: undefined,\n    }\n  }\n}\n\nexport class BvCarouselEvent extends BvEvent {\n  readonly from: number\n  readonly to: number\n  readonly direction: 'left' | 'right'\n\n  constructor(\n    eventType: string,\n    eventInit: Partial<Omit<BvEvent, BvEventConstructorOmittables>> & {\n      from: number\n      to: number\n      direction: 'left' | 'right'\n    }\n  ) {\n    super(eventType, eventInit)\n    Object.assign(this, BvEvent.Defaults, eventInit, {eventType})\n    const {from, direction, to} = eventInit\n    this.from = from\n    this.to = to\n    this.direction = direction\n  }\n\n  static get Defaults() {\n    return {\n      ...super.Defaults,\n    }\n  }\n}\n"],"names":["BvEvent","cancelable","componentId","_defaultPrevented","eventType","nativeEvent","_preventDefault","relatedTarget","target","defaultPrevented","this","prop","preventDefault","setter","constructor","eventInit","TypeError","name","arguments","length","Object","assign","Defaults","from","to","direction","super","trigger","ok"],"mappings":"aAKO,MAAMA,EACFC,YAAsB,EACtBC,YAA6B,KAC9BC,mBAAoB,EACnBC,UAAoB,GACpBC,YAA6B,KAC9BC,gBACCC,cAAoC,KACpCC,OAA6B,KAGtC,oBAAWC,GACT,OAAOC,KAAKP,iBACd,CACA,oBAAcM,CAAiBE,GAC7BD,KAAKP,kBAAoBQ,CAC3B,CAIA,kBAAWC,GACT,OAAOF,KAAKJ,eACd,CAGA,kBAAcM,CAAeC,GAC3BH,KAAKJ,gBAAkBO,CACzB,CAEA,WAAAC,CACEV,EACAW,EAAkE,IAElE,IAAKX,EACH,MAAM,IAAIY,UACR,wBAAwBN,KAAKI,YAAYG,+BAA+BC,UAAUC,iBAMtFC,OAAOC,OAAOX,KAAMV,EAAQsB,SAAUP,EAAW,CAACX,cAElDM,KAAKJ,gBAAkB,WACjBI,KAAKT,aACPS,KAAKD,kBAAmB,EAE5B,CACF,CAEA,mBAAWa,GACT,MAAO,CACLrB,YAAY,EACZC,YAAa,KACbE,UAAW,GACXC,YAAa,KACbE,cAAe,KACfC,OAAQ,KAEZ,0BA2BK,cAA8BR,EAC1BuB,KACAC,GACAC,UAET,WAAAX,CACEV,EACAW,GAMAW,MAAMtB,EAAWW,GACjBK,OAAOC,OAAOX,KAAMV,EAAQsB,SAAUP,EAAW,CAACX,cAClD,MAAMmB,KAACA,EAAAE,UAAMA,EAAAD,GAAWA,GAAMT,EAC9BL,KAAKa,KAAOA,EACZb,KAAKc,GAAKA,EACVd,KAAKe,UAAYA,CACnB,CAEA,mBAAWH,GACT,MAAO,IACFI,MAAMJ,SAEb,gDAjDK,cAAiCtB,EAC7B2B,QAAyB,KAClCC,QAAiC,EAEjC,WAAAd,CACEV,EACAW,EAA6E,IAE7EW,MAAMtB,EAAWW,GAIjBK,OAAOC,OAAOX,KAAMV,EAAQsB,SAAUP,EAAW,CAACX,aACpD,CAEA,mBAAWkB,GACT,MAAO,IACFI,MAAMJ,SACTK,QAAS,KACTC,QAAI,EAER"}