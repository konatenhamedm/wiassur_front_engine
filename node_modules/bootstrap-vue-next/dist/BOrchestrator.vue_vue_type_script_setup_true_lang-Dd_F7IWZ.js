"use strict";const e=require("vue"),t=require("./keys-D59bcWpQ.js"),o=require("./ConditionalTeleport.vue_vue_type_script_lang-BLAPKacY.js"),r={"top-start":"top-0 start-0","top-center":"top-0 start-50 translate-middle-x","top-end":"top-0 end-0","middle-start":"top-50 start-0 translate-middle-y","middle-center":"top-50 start-50 translate-middle","middle-end":"top-50 end-0 translate-middle-y","bottom-start":"bottom-0 start-0","bottom-center":"bottom-0 start-50 translate-middle-x","bottom-end":"bottom-0 end-0"},n=e.defineComponent({__name:"BOrchestrator",props:{noPopovers:{type:Boolean,default:!1},noToasts:{type:Boolean,default:!1},noModals:{type:Boolean,default:!1},appendToast:{type:Boolean,default:!1},teleportTo:{},filter:{type:Function,default:()=>!0}},setup(n){function s(e){e.ok="ok"===e.trigger||"cancel"!==e.trigger&&null}const l=n,a=e.inject(t.orchestratorRegistryKey);a?a._isOrchestratorInstalled.value||(a._isOrchestratorInstalled.value=!0):"development"===process.env.NODE_ENV&&console.warn("[BOrchestrator] The orchestrator registry not found. Please use BApp, useRegistry or provide the plugin."),e.watch(()=>l.appendToast,e=>{a&&void 0!==e&&(a._isToastAppend.value=e)},{immediate:!0});const i=e.computed(()=>{const e=d.value?.reduce((e,t)=>(t.position&&(e[t.position]=!0),e),{}),t={};for(const o in r)e?.[o]&&(t[o]={class:`${r[o]} toast-container position-fixed p-3`,style:"width: calc(var(--bs-toast-max-width, 350px) + var(--bs-toast-padding-x, 1rem) * 2)"});return e?.modal&&(t.modal={class:"",style:""}),e?.popover&&(t.popover={class:"",style:""}),t}),d=e.computed(()=>(a?.store.value??[]).filter(e=>!l.noPopovers||"popover"!==e.type).filter(e=>!l.noToasts||"toast"!==e.type).filter(e=>!l.noModals||"modal"!==e.type).filter(l.filter));return(t,r)=>(e.openBlock(),e.createBlock(o._sfc_main,{to:t.teleportTo,disabled:!t.teleportTo},{default:e.withCtx(()=>[e.createElementVNode("div",e.mergeProps({class:"orchestrator-container"},t.$attrs),[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.value,(t,o)=>(e.openBlock(),e.createElementBlock("div",{key:o,class:e.normalizeClass(t.class),style:e.normalizeStyle(t.style)},[e.createVNode(e.TransitionGroup,{name:d.value?.filter(e=>e.position===o)?.some(e=>"toast"===e.type)?"b-list":void 0},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.value?.filter(e=>e.position===o)||[],({_self:t,type:o,position:r,slots:n,promise:l,options:a,_component:i,...d})=>(e.openBlock(),e.createElementBlock("span",{key:t},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(i),e.mergeProps({ref_for:!0},d,{ref_for:!0,ref:e=>l.value.ref=e,"initial-animation":"","teleport-disabled":!0,onHide:e=>{s(e),d.onHide?.(e),e.defaultPrevented||(l.stop?.(),a?.resolveOnHide&&l.resolve(e))},onHidden:e=>{s(e),d.onHidden?.(e),e.defaultPrevented||(a?.resolveOnHide||l.resolve(e),a?.keep||l.value.destroy?.())}}),e.createSlots({_:2},[e.renderList(n,(t,o)=>({name:o,fn:e.withCtx(o=>[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t),e.mergeProps({ref_for:!0},o),null,16))])}))]),1040,["onHide","onHidden"]))]))),128))]),_:2},1032,["name"])],6))),128))],16)]),_:1},8,["to","disabled"]))}});exports._sfc_main=n;
//# sourceMappingURL=BOrchestrator.vue_vue_type_script_setup_true_lang-Dd_F7IWZ.js.map
