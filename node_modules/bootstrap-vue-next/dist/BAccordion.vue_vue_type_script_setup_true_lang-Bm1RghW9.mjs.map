{"version":3,"file":"BAccordion.vue_vue_type_script_setup_true_lang-Bm1RghW9.mjs","sources":["../src/components/BAccordion/BAccordionItem.vue","../src/components/BAccordion/BAccordion.vue"],"sourcesContent":["<template>\n  <div\n    ref=\"_el\"\n    class=\"accordion-item\"\n    v-bind=\"props.wrapperAttrs\"\n    :class=\"processedAttrs.wrapperClass\"\n  >\n    <BCollapse\n      :id=\"computedId\"\n      v-model=\"modelValue\"\n      class=\"accordion-collapse\"\n      :class=\"props.collapseClass\"\n      :aria-labelledby=\"`${computedId}-heading`\"\n      v-bind=\"processedAttrs.collapseAttrs\"\n      :tag=\"props.tag\"\n      :show=\"props.show\"\n      :horizontal=\"props.horizontal\"\n      :visible=\"props.visible\"\n      :is-nav=\"props.isNav\"\n      :lazy=\"props.lazy || parentData?.lazy.value\"\n      :unmount-lazy=\"props.unmountLazy || parentData?.unmountLazy.value\"\n      @show=\"emit('show', $event)\"\n      @shown=\"emit('shown', $event)\"\n      @hide=\"emit('hide', $event)\"\n      @hidden=\"emit('hidden', $event)\"\n      @hide-prevented=\"emit('hide-prevented', $event)\"\n      @show-prevented=\"emit('show-prevented', $event)\"\n      @toggle-prevented=\"emit('toggle-prevented', $event)\"\n      @toggle=\"emit('toggle', $event)\"\n    >\n      <template #header=\"{visible: toggleVisible, toggle: slotToggle}\">\n        <component\n          :is=\"props.headerTag\"\n          :id=\"`${computedId}-heading`\"\n          class=\"accordion-header\"\n          :class=\"props.headerClass\"\n          v-bind=\"props.headerAttrs\"\n        >\n          <button\n            class=\"accordion-button\"\n            v-bind=\"props.buttonAttrs\"\n            :class=\"[{collapsed: !toggleVisible}, props.buttonClass]\"\n            type=\"button\"\n            :aria-expanded=\"toggleVisible ? 'true' : 'false'\"\n            :aria-controls=\"computedId\"\n            @click=\"slotToggle\"\n          >\n            <slot name=\"title\"> {{ props.title }} </slot>\n          </button>\n        </component>\n      </template>\n      <div class=\"accordion-body\" v-bind=\"props.bodyAttrs\" :class=\"props.bodyClass\">\n        <slot />\n      </div>\n    </BCollapse>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport {\n  computed,\n  inject,\n  nextTick,\n  onMounted,\n  onUnmounted,\n  useAttrs,\n  useTemplateRef,\n  watch,\n} from 'vue'\nimport BCollapse from '../BCollapse/BCollapse.vue'\nimport {accordionInjectionKey} from '../../utils/keys'\nimport {useDefaults} from '../../composables/useDefaults'\nimport {useId} from '../../composables/useId'\nimport type {BAccordionItemProps} from '../../types/ComponentProps'\nimport type {BAccordionItemEmits} from '../../types/ComponentEmits'\nimport type {BAccordionItemSlots} from '../../types'\n\ndefineOptions({\n  inheritAttrs: false,\n})\n\nconst _props = withDefaults(defineProps<Omit<BAccordionItemProps, 'modelValue'>>(), {\n  bodyAttrs: undefined,\n  bodyClass: undefined,\n  buttonAttrs: undefined,\n  buttonClass: undefined,\n  collapseClass: undefined,\n  headerAttrs: undefined,\n  headerClass: undefined,\n  headerTag: 'h2',\n  horizontal: undefined,\n  id: undefined,\n  isNav: undefined,\n  lazy: false,\n  unmountLazy: false,\n  tag: undefined,\n  title: undefined,\n  show: undefined,\n  visible: false,\n  wrapperAttrs: undefined,\n})\nconst props = useDefaults(_props, 'BAccordionItem')\nconst emit = defineEmits<BAccordionItemEmits>()\ndefineSlots<BAccordionItemSlots>()\nconst attrs = useAttrs()\n\nconst processedAttrs = computed(() => {\n  const {class: wrapperClass, ...collapseAttrs} = attrs\n  return {wrapperClass, collapseAttrs}\n})\n\nconst parentData = inject(accordionInjectionKey, null)\n\nconst computedId = useId(() => props.id, 'accordion_item')\n\nconst modelValue = defineModel<Exclude<BAccordionItemProps['modelValue'], undefined>>({\n  default: false,\n})\n\nif (modelValue.value) {\n  parentData?.setOpenItem(computedId.value)\n} else {\n  modelValue.value =\n    (Array.isArray(parentData?.openItem.value)\n      ? parentData?.openItem.value.includes(computedId.value)\n      : parentData?.openItem.value === computedId.value) && !parentData?.initialAnimation.value\n}\n\nconst el = useTemplateRef('_el')\nparentData?.registerAccordionItem(computedId.value, el)\n\nonUnmounted(() => {\n  parentData?.unregisterAccordionItem(computedId.value)\n})\n\nonMounted(() => {\n  if (!modelValue.value && parentData?.openItem.value === computedId.value) {\n    nextTick(() => {\n      modelValue.value = true\n    })\n  }\n})\n\nconst openInParent = computed(() =>\n  Array.isArray(parentData?.openItem.value)\n    ? parentData?.openItem.value.includes(computedId.value)\n    : parentData?.openItem.value === computedId.value\n)\n\nwatch(\n  () => parentData?.openItem.value,\n  () => (modelValue.value = openInParent.value)\n)\nwatch(modelValue, () => {\n  if (modelValue.value && !openInParent.value) {\n    parentData?.setOpenItem(computedId.value)\n  } else if (!modelValue.value && openInParent.value) {\n    parentData?.setCloseItem(computedId.value)\n  }\n})\n</script>\n","<template>\n  <div :id=\"computedId\" class=\"accordion\" :class=\"computedClasses\">\n    <slot />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport {\n  computed,\n  nextTick,\n  provide,\n  ref,\n  type ShallowRef,\n  shallowRef,\n  toRef,\n  unref,\n  type VNode,\n  watch,\n} from 'vue'\nimport {accordionInjectionKey} from '../../utils/keys'\nimport {useId} from '../../composables/useId'\nimport {useDefaults} from '../../composables/useDefaults'\nimport type {BAccordionProps} from '../../types/ComponentProps'\nimport {flattenFragments} from '../../utils/flattenFragments'\nimport BAccordionItem from './BAccordionItem.vue'\nimport {sortSlotElementsByPosition} from '../../utils/dom'\nimport type {BAccordionSlots} from '../../types'\n\nconst _props = withDefaults(defineProps<Omit<BAccordionProps, 'modelValue' | 'index'>>(), {\n  flush: false,\n  free: false,\n  initialAnimation: false,\n  id: undefined,\n  lazy: false,\n  unmountLazy: false,\n})\nconst props = useDefaults(_props, 'BAccordion')\nconst slots = defineSlots<BAccordionSlots>()\n\nconst modelValue = defineModel<BAccordionProps['modelValue']>({\n  default: undefined,\n})\n\nconst index = defineModel<BAccordionProps['index']>('index', {\n  default: undefined,\n})\n\nconst itemElementsArray = ref<VNode[]>([])\n\nconst updateItemElementsArray = () => {\n  const itemElements = flattenFragments(slots.default?.({}) ?? [])\n  itemElementsArray.value = (Array.isArray(itemElements) ? itemElements : [itemElements]).filter(\n    (item) => item.type === BAccordionItem\n  )\n}\nupdateItemElementsArray()\n\nwatch(\n  () => slots.default?.({}),\n  () => {\n    updateItemElementsArray()\n    nextTick(() => {\n      sortAccordionItems()\n    })\n  }\n)\n\ninterface AccordionItem {\n  id: string\n  el: Readonly<ShallowRef<HTMLElement | null>>\n}\n\nconst accordionItems = shallowRef<AccordionItem[]>([])\n\nconst sortAccordionItems = () => {\n  accordionItems.value = accordionItems.value.sort((a, b) =>\n    sortSlotElementsByPosition(unref(a.el), unref(b.el))\n  )\n  if (modelValue.value) {\n    if (Array.isArray(modelValue.value)) {\n      const next = modelValue.value\n        .map((id) => accordionItems.value.findIndex((item) => item.id === id))\n        .filter((i) => i !== -1)\n\n      if (next.length !== modelValue.value.length) {\n        if (process.env.NODE_ENV === 'development') {\n          // eslint-disable-next-line no-console\n          console.warn('[BAccordion] Unknown item id in v-model:', modelValue.value)\n        }\n      }\n      index.value = next\n    } else {\n      const idx = accordionItems.value.findIndex((item) => item.id === modelValue.value)\n      if (idx !== -1) index.value = idx\n    }\n  } else if (index.value !== undefined) {\n    modelValue.value = Array.isArray(index.value)\n      ? index.value.map((idx) => accordionItems.value[idx]?.id)\n      : accordionItems.value[index.value]?.id\n  }\n}\n\nconst computedId = useId(() => props.id, 'accordion')\n\nconst computedClasses = computed(() => ({\n  'accordion-flush': props.flush,\n}))\n\nconst areEqual = (a: unknown, b: unknown) => {\n  if (Array.isArray(a) && Array.isArray(b)) {\n    return a.length === b.length && a.every((item, index) => item === b[index])\n  }\n  return a === b\n}\n\nwatch(\n  () => index.value,\n  (newValue, oldValue) => {\n    if (areEqual(newValue, oldValue)) return\n    if (index.value === undefined) {\n      modelValue.value = undefined\n      return\n    }\n\n    if (!props.free) {\n      const idx = !Array.isArray(index.value) ? index.value : index.value?.[0]\n      if (accordionItems.value[idx]?.id) {\n        if (modelValue.value !== accordionItems.value[idx]?.id) {\n          modelValue.value = accordionItems.value[idx]?.id\n        }\n      } else {\n        nextTick(() => {\n          index.value = undefined\n        })\n      }\n    } else {\n      // free mode\n      if (Array.isArray(index.value)) {\n        const newValue = index.value.map((item) => accordionItems.value[item]?.id)\n        if (!areEqual(newValue, modelValue.value)) {\n          modelValue.value = newValue\n        }\n      } else {\n        const newValue = accordionItems.value[index.value]?.id\n        if (newValue === undefined) {\n          nextTick(() => {\n            index.value = undefined\n          })\n          return\n        }\n        if (!areEqual(newValue, modelValue.value)) {\n          modelValue.value = newValue\n        }\n      }\n    }\n  }\n)\n\nwatch(\n  () => modelValue.value,\n  (newValue, oldValue) => {\n    if (areEqual(newValue, oldValue)) return\n    if (modelValue.value === undefined) {\n      index.value = undefined\n      return\n    }\n\n    if (!props.free) {\n      const idx = !Array.isArray(modelValue.value)\n        ? accordionItems.value.findIndex((item) => item.id === modelValue.value)\n        : accordionItems.value.findIndex((item) => item.id === modelValue.value?.[0])\n      if (idx !== -1) {\n        if (index.value !== idx) {\n          index.value = idx\n        }\n      } else {\n        nextTick(() => {\n          modelValue.value = undefined\n        })\n      }\n    } else if (props.free) {\n      if (Array.isArray(modelValue.value)) {\n        const idxes = modelValue.value\n          .map((value) => accordionItems.value.findIndex((item) => item.id === value))\n          .filter((index) => index !== -1)\n        if (idxes.length > 0) {\n          if (!areEqual(idxes, index.value)) {\n            index.value = idxes\n          }\n        } else {\n          nextTick(() => {\n            modelValue.value = undefined\n          })\n        }\n      } else {\n        const newValue = accordionItems.value.findIndex((item) => item.id === modelValue.value)\n        if (!areEqual(newValue, index.value)) {\n          index.value = newValue\n        }\n      }\n    }\n  },\n  {deep: true}\n)\n\nwatch(\n  () => props.free,\n  (free) => {\n    if (modelValue.value) {\n      if (!free && Array.isArray(modelValue.value)) {\n        // eslint-disable-next-line prefer-destructuring\n        modelValue.value = modelValue.value[0]\n      } else if (free && !Array.isArray(modelValue.value)) {\n        modelValue.value = [modelValue.value]\n      }\n    }\n  }\n)\n\nprovide(accordionInjectionKey, {\n  openItem: toRef(() => modelValue.value),\n  free: toRef(() => props.free),\n  initialAnimation: toRef(() => props.initialAnimation),\n  lazy: toRef(() => props.lazy),\n  unmountLazy: toRef(() => props.unmountLazy),\n  setOpenItem: (id: string) => {\n    if (props.free && !Array.isArray(modelValue.value)) {\n      if (modelValue.value !== undefined) {\n        modelValue.value = [modelValue.value, id]\n      } else {\n        modelValue.value = [id]\n      }\n      return\n    }\n    if (!props.free && Array.isArray(modelValue.value)) {\n      modelValue.value = id\n      return\n    }\n    if (Array.isArray(modelValue.value)) {\n      if (!modelValue.value.includes(id)) {\n        modelValue.value = [...modelValue.value, id]\n      }\n    } else {\n      modelValue.value = id\n    }\n  },\n  setCloseItem: (id: string) => {\n    if (!props.free && Array.isArray(modelValue.value)) {\n      modelValue.value = undefined\n      return\n    }\n    if (Array.isArray(modelValue.value)) {\n      const next = modelValue.value.filter((item) => item !== id)\n      modelValue.value = next.length ? next : undefined\n    } else {\n      if (modelValue.value === id) {\n        modelValue.value = undefined\n      }\n    }\n  },\n  registerAccordionItem: (id: string, el: Readonly<ShallowRef<HTMLElement | null>>) => {\n    accordionItems.value = [...accordionItems.value, {id, el}]\n    if (accordionItems.value.length === itemElementsArray.value.length) {\n      sortAccordionItems()\n    }\n  },\n  unregisterAccordionItem: (id: string) => {\n    accordionItems.value = accordionItems.value.filter((item) => item.id !== id)\n  },\n})\n</script>\n"],"names":["_useModel","_openBlock","_createElementBlock","_mergeProps","_unref","_createVNode","BCollapse","_withCtx","_createBlock","_resolveDynamicComponent","_createElementVNode","_renderSlot","_createTextVNode","_toDisplayString","_useSlots","BAccordionItem","index","newValue","_normalizeClass"],"mappings":"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"}