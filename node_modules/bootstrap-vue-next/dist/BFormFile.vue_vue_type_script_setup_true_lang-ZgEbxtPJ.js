"use strict";const e=require("vue"),l=require("./index-BwrAUj83.js"),a=require("./useDefaults-DspAih6L.js"),t=require("./useId-owZCNodL.js"),u=require("./useStateClass-B3zxUwpk.js"),o=require("./dom-Cbel14Rh.js"),r=["for"],i=["id","form","name","multiple","disabled","capture","accept","required","aria-label","aria-labelledby","aria-required","directory","webkitdirectory"],n=e.defineComponent({inheritAttrs:!1,__name:"BFormFile",props:e.mergeModels({ariaLabel:{default:void 0},ariaLabelledby:{default:void 0},accept:{default:""},autofocus:{type:Boolean,default:!1},capture:{type:[Boolean,String],default:void 0},directory:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},form:{default:void 0},id:{default:void 0},label:{default:""},labelClass:{default:void 0},multiple:{type:Boolean,default:!1},name:{default:void 0},noButton:{type:Boolean,default:!1},noDrop:{type:Boolean,default:!1},noTraverse:{type:Boolean,default:!1},plain:{type:Boolean,default:!1},required:{type:Boolean,default:!1},size:{default:void 0},state:{type:[Boolean,null],default:null}},{modelValue:{default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(n,{expose:d}){const s=n,f=a.useDefaults(s,"BFormFile"),p=e.useSlots(),c=e.useModel(n,"modelValue"),m=t.useId(()=>f.id),v=u.useStateClass(()=>f.state),b=e.useTemplateRef("_input"),{focused:y}=l.useFocus(b,{initialValue:f.autofocus}),B=e.computed(()=>!o.isEmptySlot(p.label)),q=e.computed(()=>"string"==typeof f.accept?f.accept:f.accept.join(",")),g=e.computed(()=>[v.value,{[`form-control-${f.size}`]:void 0!==f.size,"form-control":!f.plain,"form-control-input-file-hide-button":f.noButton}]),C=()=>{const e=null===b.value?.files||void 0===b.value?.files?null:[...b.value.files];c.value=null===e?null:!0===f.multiple?e:e[0]},k=e=>{!0===f.noDrop&&e.preventDefault()};return e.watch(c,e=>{null===e&&null!==b.value&&(b.value.value="")}),d({blur:()=>{y.value=!1},element:b,focus:()=>{y.value=!0},reset:()=>{c.value=null}}),(l,a)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[B.value||e.unref(f).label?(e.openBlock(),e.createElementBlock("label",{key:0,class:e.normalizeClass(["form-label",e.unref(f).labelClass]),for:e.unref(m)},[e.renderSlot(l.$slots,"label",{},()=>[e.createTextVNode(e.toDisplayString(e.unref(f).label),1)])],10,r)):e.createCommentVNode("",!0),e.createElementVNode("input",e.mergeProps({id:e.unref(m)},l.$attrs,{ref:"_input",type:"file",class:g.value,form:e.unref(f).form,name:e.unref(f).name,multiple:e.unref(f).multiple,disabled:e.unref(f).disabled,capture:e.unref(f).capture,accept:q.value||void 0,required:e.unref(f).required||void 0,"aria-label":e.unref(f).ariaLabel,"aria-labelledby":e.unref(f).ariaLabelledby,"aria-required":e.unref(f).required||void 0,directory:e.unref(f).directory,webkitdirectory:e.unref(f).directory,onChange:C,onDrop:k}),null,16,i)],64))}});exports._sfc_main=n;
//# sourceMappingURL=BFormFile.vue_vue_type_script_setup_true_lang-ZgEbxtPJ.js.map
