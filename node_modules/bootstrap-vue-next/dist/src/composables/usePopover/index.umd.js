"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("vue"),o=require("../../../keys-D59bcWpQ.js");require("../../../BootstrapVueOptions-CDXgG14N.js"),require("../../../ConditionalTeleport.vue_vue_type_script_lang-BLAPKacY.js");const t=require("../../../orchestratorShared-Q1kU-Xan.js");require("../../../ConditionalWrapper.vue_vue_type_script_lang-CdLqzk6C.js");const r=require("../../../floatingUi-CdVZKwnu.js");require("../../../useTransitions-DlVeAHwl.js"),require("../../../tableUtils-BGOX5AJ8.js");const s=require("../../../BTooltip.vue_vue_type_script_setup_true_lang--gc6CDkB.js"),l=()=>{const l=e.inject(o.orchestratorRegistryKey);if(!l)throw new Error("usePopover() must be called within setup(), and BApp, useRegistry or plugin must be installed/provided.");const{store:i,_isOrchestratorInstalled:n}=l,p=(o,l,p={keep:!0})=>{if(!n.value)throw new Error("The BPopoverOrchestrator component must be mounted to use the popover controller");const a=e.toRef(o),u=a.value?.id||Symbol("Popover controller"),c=t.buildPromise(u,i);return c.stop=e.watch(a,t=>{const n={...e.toValue(t)},a=i.value.findIndex(e=>e._self===u),d=-1===a?{_component:l?e.markRaw(s._sfc_main):e.markRaw(r._sfc_main)}:i.value[a],m=l?{...d,type:"tooltip",_self:u,position:"popover",promise:c,options:p}:{...d,type:"popover",_self:u,position:"popover",promise:c,options:p};for(const o in n)o.startsWith("on")?m[o]=n[o]:"component"===o&&n.component?m._component=e.markRaw(n.component):"slots"===o&&n.slots?m.slots=e.markRaw(n.slots):m[o]=e.toValue(n[o]);m.modelValue=m.modelValue??!1,m["onUpdate:modelValue"]=t=>{n["onUpdate:modelValue"]?.(t);const{modelValue:r}=e.toValue(o);if(e.isRef(o)&&!e.isRef(r)&&(o.value.modelValue=t),e.isRef(r)&&!e.isReadonly(r)&&(r.value=t),m.modelValue!==t){const e=i.value.find(e=>e._self===u);e&&(e.modelValue=t)}},-1===a?i.value.push(m):i.value.splice(a,1,m)},{immediate:!0,deep:!0}),e.onScopeDispose(()=>{const e=i.value.find(e=>e._self===u);e&&e.promise.value.destroy?.()},!0),c.value};return{_isOrchestratorInstalled:n,create:p,popover:(e,o={keep:!0})=>p(e,!1,o),tooltip:(e,o={keep:!0})=>p(e,!0,o),store:i}},i=l;exports.usePopover=l,exports.usePopoverController=i;
//# sourceMappingURL=index.umd.js.map
